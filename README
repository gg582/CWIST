# CWIST - C Web development Is Still Trustworthy

CWIST is a modern, lightweight C web framework designed for building secure and scalable applications. It brings the ergonomics of modern web frameworks to C without sacrificing performance or control.

== FEATURES ==

- HTTP/1.1 Server: Robust request parsing and response handling.
- SString: Custom string library with compare and substr support.
- WebSocket Support: Easy upgrade from HTTP to persistent connections.
- Middleware System: Chainable processing for logging and security.
- Path Parameters: Express-style routing with :param support and Mux Router.
- JSON Builder: Lightweight utility using cJSON for response building.
- Static Assets & DB Sharing: Serve directories with `cwist_app_static` and reuse SQLite handles via `cwist_app_use_db`.
- Nuke DB: High-performance In-Memory SQLite with persistent disk synchronization (`cwist_nuke_init`).
- Secure by Design: Built-in integration with Monocypher.

== QUICK START ==

1. Installation:
$ git clone [https://github.com/your/cwist.git](https://github.com/your/cwist.git)
$ cd cwist
$ make install

2. Hello World (main.c):

====================================== code ===================================
| #include <cwist/sys/app/app.h>                                              |
| #include <cwist/core/sstring/sstring.h>                                     |
|                                                                             |
| void index_handler(cwist_http_request *req, cwist_http_response *res) {     |
|     cwist_sstring_assign(res->body, "Hello from CWIST!");                   |
| }                                                                           |
|                                                                             |
| int main() {                                                                |
|     cwist_app *app = cwist_app_create();                                    |
|     cwist_app_use_db(app, ":memory:");                                      |
|     cwist_app_get(app, "/", index_handler);                                 |
|     cwist_app_listen(app, 8080);                                            |
|     cwist_app_destroy(app);                                                 |
|     return 0;                                                               |
| }                                                                           |
===============================================================================

3. Compilation:
$ gcc -o server main.c -lcwist -lssl -lcrypto -luriparser -lcjson -ldl -lpthread
$ ./server

== NUKE DB ==

Nuke DB provides the speed of an in-memory database with the persistence of a disk-based one.
It embeds SQLite directly into your application binary.

Usage:
1. `cwist_nuke_init("my_data.db", 5000);` // Loads my_data.db to memory, syncs every 5s.
2. Use `cwist_nuke_get_db()` to get the raw `sqlite3*` handle for high-speed memory operations.
3. `cwist_nuke_sync()` can be called manually to flush data to disk.
4. On application exit (SIGINT/SIGTERM), Nuke DB automatically syncs data to disk before closing.

== DEPENDENCIES ==

- cJSON ([https://github.com/DaveGamble/cJSON](https://github.com/DaveGamble/cJSON))
- OpenSSL (libssl, libcrypto)
- uriparser
- (SQLite3 is now statically embedded)

== PAST ROADMAP ==

- Security: CORS middleware and origin / header policy management.
- RestAPI: Dedicated features for optimized RestAPI server deployment.
